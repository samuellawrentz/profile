{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/blog/reduce-react-states-and-hooks/","result":{"data":{"mdx":{"id":"5a7b6c39-5b34-5a2c-b3fa-a2d347499e26","body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"You don't need these many state variables\",\n  \"path\": \"/blog/reduce-react-states-and-hooks/\",\n  \"description\": \"A lot of state variables means a lot of re-renders and useEffect Hooks. What if I told you there are computed variables in react and they could help you to reduce the number of state variables you use?\",\n  \"heroImage\": \"./react-state.png\",\n  \"tags\": [\"react\", \"javascript\", \"performance\"],\n  \"published\": true,\n  \"date\": \"2022-09-24T00:00:00.000Z\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"React is reactive because of its reactive state variables and props. What if I told you, you don't need as many state variables as you require? If you've used VueJs or KnockoutJS you might know about \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"computed\"), \" variables. In react, most of the reactive states could be converted into computeds' without involving a state variable.\"), mdx(\"h2\", null, \"Computed variables in React?\"), mdx(\"p\", null, \"What is a computed variable? Computed variable is nothing but a value which is derived from or computed from a state variable. The value of this variable changes when there is a change in the state variable that it is dependent upon.\"), mdx(\"h3\", null, \"Use of a computed variable\"), mdx(\"p\", null, \"Computed variables can replace your extra state variables and help you reduce your re-renders. It also reduces your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useEffect\"), \" hooks that you would require to update these values.\"), mdx(\"h3\", null, \"How to convert state variable to a computed value?\"), mdx(\"p\", null, \"Consider this example where you have to show a error message based on the input value. You could see yourself writing two state variables. One for \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"value\"), \" and the other for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"error\"), \" state. The following code illustrates it.\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"jsx\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"//bad\\nconst [value, setValue] = useState()\\nconst [error, setError] = useState() // this is not required as a state\\n\\nuseEffect(() => {\\n  if (value === '') setError('Value cannot be empty')\\n}, [value])\\n\\nreturn (\\n  <div>\\n    <input value={value} onChange={({ target }) => setValue(target.value)} />\\n    {error && <div className=\\\"error-msg\\\">{error}</div>}\\n  </div>\\n)\\n\"), \"\\n        \"), mdx(\"p\", null, \"Actually you could keep the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"error\"), \" as a normal variable which would be computed during each render based on the value of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"value\"), \" state.\"), mdx(\"p\", null, \"This would be the better approach \\u2705\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"jsx\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"//good\\nconst [value, setValue] = useState()\\n// here error is a computed value\\nconst error = value === '' ? 'Value cannot be empty' : ''\\n\\nreturn (\\n  <div>\\n    <input value={value} onChange={({ target }) => setValue(target.value)} />\\n    {error && <div className=\\\"error-msg\\\">{error}</div>}\\n  </div>\\n)\\n\"), \"\\n        \"), mdx(\"p\", null, \" Thus we have eliminated a state variable and an unwanted useEffect hook. Mission accomplished. Likewise, in your daily work, identify which state variables are computed values and replace them with normal variables. Your app could become a lot faster.\"), mdx(\"p\", null, \"\\u26A1\\uFE0F\\u26A1\\uFE0F\\u26A1\\uFE0F\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"You don't need these many state variables","description":"A lot of state variables means a lot of re-renders and useEffect Hooks. What if I told you there are computed variables in react and they could help you to reduce the number of state variables you use?","date":"24 Sep, 2022","path":"/blog/reduce-react-states-and-hooks/","tags":["react","javascript","performance"],"heroImage":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxklEQVQoz1WSTWsTURSG8xcKzdxJJmk+ULTUhdY4M5mkRWq1SawVLFrswo27bqQFQTd+4MIWBV3a+bipRC1SKUiLGgRbpS1WFKKCKK7cqvgXHpkZk46Lw4H3wHvf59wTE0UPtSQRh2yS40/Zc+sz++9+Qx1qIAwbUXQRpkt3wQ66akmE7qAcnEcU5hGWF2rFsMdCw3owTE6s0HvvO/3eDxJHHpEaaZI6+gLt2Cp9ky/RhpYQep3UZJPctRbZ6Xeo1kLHrGPYFoThoA0/Rhm8jyhJMsffotU2GJ/9xO03fxi72qL7gEffhU0urf2isvyBrmGHhCF3DNtxRSB4KLpDl483IOmpbaFVX3N6rsWd9d+cm/2IYiyglCU9o8sooy7xwzaqKTvosWhcxfTIT6xgzjQD/Ex1m/TYFtmzG5gz78mfXCVfe0Km6lNIVF3umBUjCdsV1116b36h8uonubmvCOshufNr7L24ze6pdbLTm+w7tcSuE8+Jm3ZAFJAFhF4E+V8Fg5FFxJlnJCqLiEEXMRBegVqWiPID0sYN0uZ1hNUIDSOE/+3Qjxy8Yjgk2lq5TufT/POxGiQLV0j2X0aUGoEWPRnf8C/vnEnJr8lgyQAAAABJRU5ErkJggg==","aspectRatio":2.4193548387096775,"src":"/static/a21f74b06d76c6e965e12e5a191112ad/db955/react-state.png","srcSet":"/static/a21f74b06d76c6e965e12e5a191112ad/7e7e9/react-state.png 225w,\n/static/a21f74b06d76c6e965e12e5a191112ad/62b1f/react-state.png 450w,\n/static/a21f74b06d76c6e965e12e5a191112ad/db955/react-state.png 900w,\n/static/a21f74b06d76c6e965e12e5a191112ad/82360/react-state.png 1350w,\n/static/a21f74b06d76c6e965e12e5a191112ad/bbee5/react-state.png 1800w,\n/static/a21f74b06d76c6e965e12e5a191112ad/22f13/react-state.png 2048w","sizes":"(max-width: 900px) 100vw, 900px"}}}}}},"pageContext":{"title":"You don't need these many state variables","id":"5a7b6c39-5b34-5a2c-b3fa-a2d347499e26"}},"staticQueryHashes":["3412710006"]}